# JWS Generic Example

Calculating JSON Web Signature (JWS) for a generic payload (MWE)
A signature must be a valid Flattened JWS JSON serialised string. For instance a payload (to be signed) (serialised as string)

```
{"a":"b","c":"d","e":1}
```

with a header specifying the algorithm used (as RSA256) (string)

```
{"alg":"RS256"}
```

signed with private key

```
-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEAx5e1+vkIxBq/7Wwp5nc3saCy8CFks1Iy7gw3/W1Dl6G6a05i
uqWc40PmU/ho9iJYTT96B/bGMgAk7ryqXf8Novrz3e4z5fFH3T3vIQ3sjs7RerUB
AJLfWOmrlmL1wIBq+9solmPGTv4ki5pER2fWfMInKYtXNqEnqaJLj5DUDqMJiYV/
z4xN2ZpGFrh9pGj2KKdCzyi+vyTHPOxbc1nG39HfuDaIrhfNBn1G5DFnjPATjefA
ZDjox0Npa8iWD+zACA3TuDAKBR2UD2VyOAHhKDwrtlY2APYGrMEigL2gR2rRejmz
3cY8Apsr1e/kPlsIeggFLg+xQh188FCNw7jQMQIDAQABAoIBAElSxpvomPvSB+gk
8E+mRGOQ8aud2Oy3qdYhzv/fABHYbC+3oDWJWdVzwE3g2E5z15SpWR9L3QvJWcgK
r1vQsyXIo4ZIV/CFby0r74lpIBpmiDZYAIJBcqOrVEnvGPEbPDJCFOsKxHOIkcxn
Y+YHk5hJizGL6wI6ueNrp+6Z+g1V2IsO+e4c1EjXf3hGNgqEOS7lBTe9rnjrVg+O
sD3omq++ukyAtPHGdoRBIKV64oyXMJvKewl7rLiCjiqJSTSuWl4S1MiFTqmyVH4S
GJKSzwp+qT57iAi3ScXfLpXAmnXBj+mTk72S8adxaIiB8rROGILquC7CZLC/668/
htAxOAECgYEA/qvhfMLG2EoYt5Dzvo294Mt+QW6e7nzSfQhBgmEWUthQfO6n1tqc
49zRQa2Mr0WFYHWleY1DNEFql0eZbLkSdiqMshO/F4CZlMNNdi2nUuMMhYp7f1RP
yUskjUQsfgtYS/1B97/8HO4wT+ODv73ATL+b89scaeuoX3/zcAY2mqECgYEAyKJF
aQeuQPkoaAiUPECfj3uMD6jlndS9ZXAefpl2sqzazxT6KFYaJb3xNdehyOogK7nu
waFBbmK5JgubR9BUJxyxtxBoXVN3NuHdIntz7h+cvxU4FkifEWQRf57TDljdw5gQ
5lagUhe+sKEISS76H7XLWVCgTftY9EbcZHlUW5ECgYEA7WIJrOFht/pZT8ItcVFt
zDviU9tpCaQQD7vCVGVrCY3YeJt8lyjvVPZfl3jNyhJjYKZIuCSUoADZ+mki+dUJ
AFxpCRSe6qlUfvYNHjsv3HMHGPMcanOMa3U/fO4vCs5IX4ySEP1DYzQilFTeWbvl
o6R3GbcDpTekmmAJ6kHgZAECgYBEP1anDJLMzTRedxSdjkn4j8ksBoLc9mHaoJHu
9Jr42m2v5W3WzLsmPX9QlmIVKvb4iM3bldPhDbn3ZBlVC1uk1lDpea5WmK7Dv37u
XNoplR1HrpsekWNykfyV0dvvVHFTOGX/RFZStnsKMCzWYCF7KebbId71x9sRdQ1B
LDhy0QKBgQC/YlztESpAMhMLpM9vLQWjc7anrDKgugJXu3W8n+s+DyY2AUZ5PkpW
KvgHhY3qTl/V1Ivfu8PZLpJnE3B1xzbR+FzWwbXVhxTOn/RU4d4bhg6tBfoV0juw
qTf0984Scy43UjT2+LRbpk0Koi1gO6V1Ieg3+g8UOgb7L7TX2bNuXA==
-----END RSA PRIVATE KEY-----
```

and certificate

```
-----BEGIN CERTIFICATE-----
MIIDpDCCAoygAwIBAgIBATANBgkqhkiG9w0BAQsFADBgMQswCQYDVQQGEwJVUzEL
MAkGA1UECAwCV0ExEjAQBgNVBAcMCVZhbmNvdXZlcjEPMA0GA1UECgwGTGV2dmVs
MQ0wCwYDVQQLDARCbG9nMRAwDgYDVQQDDAdEU2lnLUNBMB4XDTE2MDMyODE5MTc0
MloXDTE3MDMyODE5MTc0MlowTjELMAkGA1UEBhMCVVMxCzAJBgNVBAgMAldBMQ8w
DQYDVQQKDAZMZXZ2ZWwxDTALBgNVBAsMBEJsb2cxEjAQBgNVBAMMCURTaWctQ2Vy
dDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMeXtfr5CMQav+1sKeZ3
N7GgsvAhZLNSMu4MN/1tQ5ehumtOYrqlnOND5lP4aPYiWE0/egf2xjIAJO68ql3/
DaL6893uM+XxR9097yEN7I7O0Xq1AQCS31jpq5Zi9cCAavvbKJZjxk7+JIuaREdn
1nzCJymLVzahJ6miS4+Q1A6jCYmFf8+MTdmaRha4faRo9iinQs8ovr8kxzzsW3NZ
xt/R37g2iK4XzQZ9RuQxZ4zwE43nwGQ46MdDaWvIlg/swAgN07gwCgUdlA9lcjgB
4Sg8K7ZWNgD2BqzBIoC9oEdq0Xo5s93GPAKbK9Xv5D5bCHoIBS4PsUIdfPBQjcO4
0DECAwEAAaN7MHkwCQYDVR0TBAIwADAsBglghkgBhvhCAQ0EHxYdT3BlblNTTCBH
ZW5lcmF0ZWQgQ2VydGlmaWNhdGUwHQYDVR0OBBYEFAclkkcBT1nwsYeJoAprqSSa
gaejMB8GA1UdIwQYMBaAFDCL/Me6ZSbqOiEQSfRYpgGcPNXVMA0GCSqGSIb3DQEB
CwUAA4IBAQC3+sVnFFUc3rGED2661Yf4DEaqV0+3T/MahQ4FL64M66UfA6cSrYHB
0zehgoAOytxomurVBxj3Z6+cNN41zPGRB1xrOH/psEqZTiLgiG9hS9zGWxZDeB/G
E/rvoY75DnKtzHGebDlGPoHV4Nzg6DOMRbkLwpdO9HRXT60tBrrX3WsigZRmfiaG
V/NtKtvKSNNDhh3/oUoRwOH1ksbkJ4W41s7yfTNL5L8TqyvzyXsVCyaHKMd0hsE2
8OXfmOCXB5YYLjZFs+VXmvshj9hZ7K3BrAy4p5x8+4fWrElyPmWhAp4dOsMNyH7j
Uy+5Jn1Qst4rGHrb4igpiX6GrEeV8RGv
-----END CERTIFICATE-----
```
must have the following JWS format

```
{
  "payload":BASE64URL(payload),
  "protected":BASE64URL(header),
  "signature":BASE64URL(signature)
}
```

and produce a JWS JSON

```
{
  "payload":"eyJhIjoiYiIsImMiOiJkIiwiZSI6MX0",
  "protected":"eyJhbGciOiJSUzI1NiJ9",
  "signature": "CNMaYaDGU3ZhFV1ve6p3sAdYXhEklej8DVIAMqIWCkpNmT6Jp7iigcndXwH5q3WQFHiswgIQU5-_-4rV3jKGptCROmEyWPW8_elhYH1apzAyjOjyZ55ygv37xKHzIFhixzAwmXlAv4pfD4lVelYWVNOSN7REA0QJeCy2vKdqZ5cjqCXQ1lkQUlzOE7dpuNoAkhAhAJJ8HaamFKy7Gl7uwmqbIr-dVYv21d_9O7mO26n0gy3zWXD2nJDxU5Mzl2pZd8-sFvUr9Kmp_YkeRMh4bSe0fr1Uc_YgkjpmYUyu7kaxRWTbAdJ3GwqWFMUDiyfhHdzvZPZyU4VkWreimoydMA"
}
```
